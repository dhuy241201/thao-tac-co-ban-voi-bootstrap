<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Select World</title>
  <!-- Font Awesome -->
  <link
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          rel="stylesheet"
  />
  <!-- Google Fonts -->
  <link
          href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
          rel="stylesheet"
  />
  <!-- MDB -->
  <link
          href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css"
          rel="stylesheet"
  />

  <link href="https://fonts.googleapis.com/css2?family=Tektur:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">

  <link rel="shortcut icon" type="image/png" href="/image/logo_MultiWorld.png"/>

  <link href="/showCharacterCSS.css" rel="stylesheet" type="text/css">
</head>
<body>
<section >
  <div class="container py-5">
    <div class="row">
      <div class="col">
        <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="/home">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Show World</li>
          </ol>
        </nav>
      </div>
    </div>
    <div class="row mb-4 d-flex justify-content-end align-items-center">
      <span class="col-1 pe-0" style="font-weight: 700; font-size: 20px; margin-right: -20px;">Sort by: </span>
      <div style="width: 108px" class="dropdown col-1 dropdown-tag">
        <button
                class="btn btn-outline-primary btn-rounded dropdown-toggle"
                type="button"
                data-mdb-toggle="dropdown"
                aria-expanded="false"
        >
          Name
        </button>
        <ul class="dropdown-menu dropdown-sort " aria-labelledby="dropdownMenuButton" >
          <li><button type="button" class=" btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('name')">ASC</button></li>
          <li><button type="button" class="btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('dateCreated')">DESC</button></li>
        </ul>
      </div>
      <div style="width: 95px"  class="dropdown col-1 dropdown-tag">
        <button
                class="btn btn-outline-primary btn-rounded dropdown-toggle"
                type="button"
                data-mdb-toggle="dropdown"
                aria-expanded="false"
        >
          Age
        </button>
        <ul class="dropdown-menu dropdown-sort " aria-labelledby="dropdownMenuButton" >
          <li><button type="button" class=" btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('name')">ASC</button></li>
          <li><button type="button" class="btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('dateCreated')">DESC</button></li>
        </ul>
      </div>
      <div style="width: 125px" class="dropdown col-1 dropdown-tag">
        <button
                class="btn btn-outline-primary btn-rounded dropdown-toggle"
                type="button"
                data-mdb-toggle="dropdown"
                aria-expanded="false"
        >
          Gender
        </button>
        <ul class="dropdown-menu dropdown-sort " aria-labelledby="dropdownMenuButton" >
          <li><button type="button" class=" btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('name')">ASC</button></li>
          <li><button type="button" class="btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('dateCreated')">DESC</button></li>
        </ul>
      </div>
      <div style="width: 125px" class="dropdown col-1 dropdown-tag">
        <button
                class="btn btn-outline-primary btn-rounded dropdown-toggle"
                type="button"
                data-mdb-toggle="dropdown"
                aria-expanded="false"
        >
          Role
        </button>
        <ul class="dropdown-menu dropdown-sort " aria-labelledby="dropdownMenuButton" >
          <li><button type="button" class=" btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('name')">ASC</button></li>
          <li><button type="button" class="btn btn-outline-secondary btn-rounded me-3" data-mdb-ripple-color="dark" onclick="getAllUserWorld('dateCreated')">DESC</button></li>
        </ul>
      </div>




    </div>

    <div class="row">
      <div class="col-lg-3 me-5">
        <div class="card mb-4 sticky-top" style="top: 15%">
          <div class="card-body text-center ">
            <img src="/world_image/world_image.png" alt=""
                 class="world-img img-fluid" id="worldImageShow">
            <h3 class="my-4" style="font-weight: 700">World's name</h3>
            <button onclick="createWorld()" class="btn btn-info mx-5 mini-button" >Create Character</button>
          </div>
        </div>
      </div>
      <div class="col-lg-8" style="width: 942px">
        <div class="row">
          <div class="col-lg-1 mb-5 d-flex justify-content-center align-items-center">
            <div class="card text-muted" style="max-height: 45%;border-radius: 15px;border: #5588e2 solid 4px;">
              <div class="card-body d-flex justify-content-center align-items-center" style="padding: 25px 20px 20px;">
                <h3> 1 </h3>
              </div>
            </div>
          </div>
          <div class="col-lg-11 mb-5">
            <div class="card">
              <div class="card-body row" style="padding-bottom: 2%; padding-top: 2%">
                <div class="col-2">
                <img src="https://i.pinimg.com/564x/ca/28/c7/ca28c7b21c11ae90bd0ad8be56271ef5.jpg"
                     alt="avatar"
                     class="rounded-circle img-fluid"
                >
                </div>
                <div class="col-10 characterInfo">
                <h4 class="card-title mb-1">Character name</h4>
                <div style="margin-left: 2%;" class="text-muted">
                <p class="card-text"  style="margin-bottom: 0">
                  <span class="titleincard">Age: </span>
                  24
                </p>
                <p class="card-text" style="margin-bottom: 0">
                  <span class="titleincard">Gender: </span>
                  Male
                </p>
                <p class="card-text">
                  <span class="titleincard">Role: </span>
                  Lord
                </p>
                </div>
              </div>
              </div>
              <div class="card-footer d-flex justify-content-center align-items-center">
                <button class="btn btn-info mx-5" onclick="location.href='/world/show/view/${world.id}'">View</button>
                <button class="btn btn-success mx-5" onclick="location.href='/world/show/update/${world.id}'">Update</button>
                <button class="btn btn-danger mx-5" data-mdb-toggle="modal" data-mdb-target="#confirmDelete" data-world-id = "${world.id}">Obliterate</button>
              </div>
            </div>
        </div>

        <hr class="hr mb-5" style="height: 2.5px;">
        </div>
      </div>

    </div>
    <br>
    <br>
  </div>
</section>





<!--Confirm Delete Modal-->
<div class="modal fade" id="confirmDelete" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-danger" id="exampleModalLabel">Confirm</h5>
        <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">Do you really want to obliterate this world?</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-mdb-dismiss="modal">Nope</button>
        <button type="button" class="btn btn-danger btn-ok">Do it</button>
      </div>
    </div>
  </div>
</div>


<!--Button to top-->
<button
        type="button"
        class="btn btn-info btn-floating btn-lg"
        id="btn-back-to-top"
>
  <i class="fas fa-arrow-up"></i>
</button>


<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.js"
></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<script src="/js/scrollTop.js"></script>



<script>
  $(document).ready(function () {
    getAllUserWorld("name");
  });
  let currentUsername = localStorage.getItem("token");

  function showWorld(data){
    let list = data.content;
    let content = '';
    for (let i=0; i < list.length; i++){
      content += setWorldInfo(i,list[i]);
    }
    $('#worldList')[0].innerHTML = content;


    let lastLine = document.querySelectorAll(".hr:last-child");
    lastLine[0].remove();
  }

  function setWorldInfo(ordinalNumber,world){
    return `<div class="row world-info">
      <div class="col-lg-1 mb-5 d-flex justify-content-center align-items-center">
        <div class="card text-muted" style="max-height: 45%;border-radius: 15px;border: #5588e2 solid 4px;">
          <div class="card-body d-flex justify-content-center align-items-center" style="padding-bottom: 111px;">
            <h3> ${ordinalNumber + 1} </h3>
          </div>
        </div>
      </div>
      <div class="col-lg-3 mb-5 d-flex justify-content-center align-items-center">
        <div class="card-body text-center">
          <img src="/world_image/${world.image}" alt=""
               class="world-img img-fluid">
            <br>
        </div>
      </div>
      <div class="col-lg-8 mb-5">
        <div class="card">
          <div class="card-body ">
            <h4 class="card-title mb-2">${world.name}</h4>
            <p class="card-text">
              <span class="titleincard">Date created: </span>
              ${world.dateForShow}
            </p>
          </div>
          <div class="card-footer d-flex justify-content-center align-items-center">
            <button class="btn btn-info mx-5" onclick="location.href='/world/show/view/${world.id}'">View</button>
            <button class="btn btn-success mx-5" onclick="location.href='/world/show/update/${world.id}'">Update</button>
            <button class="btn btn-danger mx-5" data-mdb-toggle="modal" data-mdb-target="#confirmDelete" data-world-id = "${world.id}">Obliterate</button>
          </div>
        </div>
      </div>
    </div>
    <hr class="hr mb-5" style="height: 2.5px;">`
  }
</script>





</body>
</html>